{% extends 'base.html' %}

{% block title %}Pesquisar Aluno{% endblock %}

{% block content %}
<style>
/* Seu estilo já existente */
.resultado-container, .pesquisa-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    max-width: 950px;
    margin: 30px auto;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow-x: auto;
}
table {
    border-collapse: collapse;
    width: 100%;
}
th, td { border: 1px solid #ccc; padding: 12px; text-align: left; }
th { background-color: #4CAF50; color: white; }
td a { color: #4CAF50; font-weight: bold; text-decoration: none; transition: 0.2s; }
td a:hover { color: #1976D2; text-decoration: underline; }
.limpar-btn { padding: 10px 20px; font-size: 16px; background-color: #f44336; color: white; border-radius: 30px; text-decoration: none; margin-top: 20px; }
.limpar-btn:hover { background-color: #d32f2f; }
</style>

<div class="pesquisa-container">
    <h2>Pesquisar Aluno</h2>
    <form method="POST" action="{{ url_for('buscar_aluno') }}" class="pesquisa-form">
        <input type="text" name="termo" placeholder="Digite o nome ou CPF do aluno..." value="{{ termo }}">
        <button type="submit">Buscar</button>
    </form>

    {% if termo %}
        <div class="resultado-container">
            {% if alunos %}
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>CPF</th>
                            <th>Status</th>
                            <th>Ação</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for aluno in alunos %}
                        <tr>
                            <td>{{ aluno[0] }}</td>
                            <td>{{ aluno[1] }}</td>
                            <td>{{ aluno[2] }}</td>
                            <td>{{ 'Ativo' if aluno[3] else 'Inativo' }}</td>
                            <td>
                                <a href="{{ url_for('editar_aluno', aluno_id=aluno[0]) }}">Editar</a> |
                                <a href="{{ url_for('imprimir_aluno', aluno_id=aluno[0]) }}">Imprimir</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p style="text-align:center; font-size:18px; margin-top:20px;">
                    Nenhum aluno encontrado para "{{ termo }}"
                </p>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}
